(this.webpackJsonpgrantcalc=this.webpackJsonpgrantcalc||[]).push([[0],{141:function(e,t){},159:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},161:function(e,t,a){e.exports={stepsParent:"BudgetSteps_stepsParent__CZ_V4"}},165:function(e,t,a){e.exports={content:"BudgetPage_content__2lFbs"}},192:function(e,t,a){e.exports={row:"Main_row__O0Ybk"}},203:function(e,t,a){e.exports=a(355)},208:function(e,t,a){},209:function(e,t,a){},214:function(e,t){},215:function(e,t){},354:function(e){e.exports=JSON.parse('[{"title":"labor","label":"Labor","items":[{"key":"a","name":"Full Time Personnel","children":[],"quantity":0,"rate":0,"header":true,"childCount":0},{"key":"b","name":"Part Time Personnel","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]},{"title":"equip","label":"Equiptment and Supplies","items":[{"key":"a","name":"Capital Equipment >5k","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Non-Capital Equipment <5k","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"c","name":"Consumable Materials and Supplies","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]},{"title":"consult","label":"Consultants","items":[{"key":"a","name":"Consultants","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Subcontracts","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]},{"title":"expenses","label":"Non-Personnel Expenses","items":[{"key":"a","name":"Major Operating Expenses","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Travel, Meals, Meetings and Registration","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]},{"title":"overhead","label":"Overhead","items":[{"key":"a","name":"Rent","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Utilities","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"c","name":"Insurance","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]}]')},355:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),i=a.n(l),c=(a(208),a(73)),o=a(159),u=a.n(o),s=(a(209),a(96)),d=a(42),p=a(160),m=a(133),h=function(e){var t=e.csvData,a=e.fileName;return r.a.createElement(d.a,{style:{marginBottom:"4rem"},type:"primary",onClick:function(e){return function(e,t){var a={Sheets:{data:m.utils.json_to_sheet(e)},SheetNames:["data"]},n=m.write(a,{bookType:"xlsx",type:"array"}),r=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});p.saveAs(r,t+".xlsx")}(t,a)}},"Export")},f=a(363),y=a(367),b=a(368),g=a(369),v=a(370),E=a(371),k=a(161),C=a.n(k),x=f.a.Step;function O(e){return r.a.createElement(f.a,{direction:"vertical",current:e.page,onChange:e.onChange,className:C.a.stepsParent},r.a.createElement(x,{title:"Labor",icon:r.a.createElement(y.a,null)}),r.a.createElement(x,{title:"Equiptment and Supplies",icon:r.a.createElement(b.a,null)}),r.a.createElement(x,{title:"Consultants",icon:r.a.createElement(g.a,null)}),r.a.createElement(x,{title:"Non-Personnel Expenses",icon:r.a.createElement(v.a,null)}),r.a.createElement(x,{title:"Overhead",icon:r.a.createElement(E.a,null)}))}var j=a(162),S=a(163),D=a(194),q=a(199),w=a(134),I=a.n(w),N=a(97),P=a(164),A=a(109),_=a(138),B=a(165),T=a.n(B),F=a(362),M=a(361),J=a(365),R=a(364),W=a(366),L=a(360),U=F.a.Title,V=r.a.createContext(),z=function(e){e.index;var t=Object(_.a)(e,["index"]),a=M.a.useForm(),n=Object(c.a)(a,1)[0];return r.a.createElement(M.a,{form:n,component:!1},r.a.createElement(V.Provider,{value:n},r.a.createElement("tr",t)))},$=function(e){var t=e.title,a=e.editable,l=e.children,i=e.dataIndex,o=e.record,u=e.handleSave,s=(e.inputType,Object(_.a)(e,["title","editable","children","dataIndex","record","handleSave","inputType"])),d=Object(n.useState)(!1),p=Object(c.a)(d,2),m=p[0],h=p[1],f=Object(n.useRef)(),y=Object(n.useContext)(V);Object(n.useEffect)((function(){m&&f.current.focus()}),[m]);var b=function(){h(!m),y.setFieldsValue(Object(A.a)({},i,o[i]))},g=function(){var e=Object(P.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.validateFields();case 3:a=e.sent,b(),u(Object(N.a)({},o,{},a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=l;return a&&(v=m?r.a.createElement(M.a.Item,{style:{margin:0},name:i,rules:[{required:!0,message:"".concat(t," is required.")}]},"number"===f?r.a.createElement(J.a,{ref:f,onPressEnter:g,onBlur:g}):r.a.createElement(R.a,{ref:f,onPressEnter:g,onBlur:g})):r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:b},l)),r.a.createElement("td",s,v)},H=function(e){Object(q.a)(a,e);var t=Object(D.a)(a);function a(e){var n;Object(j.a)(this,a),(n=t.call(this,e)).handleDelete=function(e){var t=n.props.pageData.items,a=t.findIndex((function(t){return t.key===e.charAt(0)}));e.length>1?t[a].children=t[a].children.filter((function(t){return t.key!==e})):t=t.filter((function(t){return t.key!==e})),n.props.setPageData(t)},n.handleAdd=function(){var e=n.props.pageData,t=e.items.length+1,a={key:String.fromCharCode(96+t),name:"".concat(e.label," Item ").concat(t),quantity:null,rate:null,header:!0,edit:!0,childCount:0,children:[]};n.props.setPageData([].concat(Object(s.a)(e.items),[a]))},n.handleAddChild=function(e){var t=n.props.pageData.items,a=t.findIndex((function(t){return t.key===e}));if(!(a<0)){var r=t[a].childCount+1;t[a].childCount=r,t[a].children.push({key:e+r,name:"Item ".concat(r),quantity:0,rate:0,header:!1}),n.props.setPageData(t)}},n.handleSave=function(e){var t=Object(s.a)(n.props.pageData.items),a=t.findIndex((function(t){return e.key.charAt(0)===t.key})),r=t[a];if(void 0!==e.header&&e.header)t.splice(a,1,Object(N.a)({},r,{},e));else{var l=t[a].children.findIndex((function(t){return e.key===t.key})),i=t[a].children[l];t[a].children.splice(l,1,Object(N.a)({},i,{},e))}n.props.setPageData(t)},n.addWrapper=r.a.createRef();var l=n.props.pageData.items[0],i=Object.keys(l).filter((function(e){return"key"!==e&&"children"!==e&&"header"!==e&&"childCount"!==e}));return n.columns=i.map((function(e){return{title:(t=e,t.charAt(0).toUpperCase()+t.slice(1)),dataIndex:e,inputType:"name"===e?"text":"number",editable:!0,key:e};var t})),n.columns.push({title:"Total",dataIndex:"total",render:function(e,t){var a=Number.parseInt(t.quantity)*Number.parseFloat(t.rate);return isNaN(a)&&(a=0),"$".concat(a.toFixed(2))}},{title:"operation",dataIndex:"operation",render:function(e,t){return n.props.pageData.items.length>=1?r.a.createElement(r.a.Fragment,null,t.header?r.a.createElement(d.a,{type:"link",onClick:function(){return n.handleAddChild(t.key)}},"Add"):r.a.createElement(W.a,{title:"Sure to delete?",onConfirm:function(){return n.handleDelete(t.key)}},r.a.createElement(d.a,{type:"link"},"Delete")),void 0!==t.edit&&t.edit&&r.a.createElement(W.a,{title:"Sure to delete?",onConfirm:function(){return n.handleDelete(t.key)}},r.a.createElement(d.a,{type:"link"},"Delete"))):null}}),n}return Object(S.a)(a,[{key:"render",value:function(){var e=this,t=this.props.pageData,a={body:{row:z,cell:$}},n=this.columns.map((function(t){return t.editable?Object(N.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}));return r.a.createElement("div",{className:T.a.content},r.a.createElement(U,null,this.props.pageData.label),r.a.createElement(d.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16},ref:this.addWrapper},"Add a Section"),r.a.createElement(L.a,{components:a,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t.items,columns:n}))}}]),a}(n.Component),Y=a(192),Z=a.n(Y),G=a(357),K=a(358),Q=a(359),X=G.a.Content;function ee(e){return r.a.createElement(X,null,r.a.createElement(K.a,{className:Z.a.row},r.a.createElement(Q.a,{span:5,pull:5,style:{height:"100vh",position:"fixed",left:0,backgroundColor:"white",top:"64px",zIndex:2,minWidth:"17px"}},r.a.createElement(O,{onChange:e.onChange,page:e.step})),r.a.createElement(Q.a,{span:19,push:5,style:{textAlign:"center"}},r.a.createElement(H,{pageData:e.data[e.step],step:e.step,setPageData:function(t){var a=Object(s.a)(e.data);a[e.step].items=t,e.setData(a)}}),e.step+1===e.data.length&&r.a.createElement(h,{csvData:e.data,fileName:"Pricing and Budget"}))))}var te=G.a.Header,ae=a(354);var ne=function(){var e=Object(n.useState)(0),t=Object(c.a)(e,2),a=t[0],l=t[1],i=function(e){var t=Object(n.useState)(JSON.parse(sessionStorage.getItem(e))||ae),a=Object(c.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){var t=JSON.stringify(r);sessionStorage.setItem(e,t)}),[r,e]),[r,l]}("VLProjectBudget"),o=Object(c.a)(i,2),s=o[0],d=o[1];return r.a.createElement(G.a,null,r.a.createElement(te,{style:{position:"fixed",zIndex:2,width:"100%",textAlign:"center"}},r.a.createElement("img",{src:u.a,className:"App-logo",alt:"logo"})),r.a.createElement(G.a,null,r.a.createElement(ee,{step:a,data:s,setData:d,onChange:function(e){return l(e)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.3fcdffdc.chunk.js.map