(this.webpackJsonpgrantcalc=this.webpackJsonpgrantcalc||[]).push([[0],{141:function(e,t){},159:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},160:function(e,t,n){e.exports={stepsParent:"BudgetSteps_stepsParent__CZ_V4"}},164:function(e,t,n){e.exports={content:"BudgetPage_content__2lFbs"}},191:function(e,t,n){e.exports={row:"Main_row__O0Ybk"}},202:function(e,t,n){e.exports=n(355)},207:function(e,t,n){},208:function(e,t,n){},214:function(e,t){},215:function(e,t){},354:function(e){e.exports=JSON.parse('[{"title":"labor","label":"Labor","items":[{"key":"a","name":"Full Time Personnel","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Part Time Personnel","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]},{"title":"equip","label":"Equiptment and Supplies","items":[{"key":"a","name":"Capital Equipment >5k","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Non-Capital Equipment <5k","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"c","name":"Consumable Materials and Supplies","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]},{"title":"consult","label":"Consultants","items":[{"key":"a","name":"Consultants","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Subcontracts","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]},{"title":"expenses","label":"Non-Personnel Expenses","items":[{"key":"a","name":"Major Operating Expenses","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Travel, Meals, Meetings and Registration","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]},{"title":"overhead","label":"Overhead","items":[{"key":"a","name":"Rent","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"b","name":"Utilities","children":[],"quantity":null,"rate":null,"header":true,"childCount":0},{"key":"c","name":"Insurance","children":[],"quantity":null,"rate":null,"header":true,"childCount":0}]}]')},355:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(28),c=n.n(l),i=(n(207),n(75)),u=n(159),o=n.n(u),s=(n(208),n(72)),d=n(42),m=(n(209),n(133)),p=function(e){var t=e.csvData;e.fileName;return r.a.createElement(d.a,{style:{marginBottom:"4rem"},type:"primary",onClick:function(e){return function(e,t){console.log(Object(s.a)(e));var n={Sheets:{data:m.utils.json_to_sheet(e)},SheetNames:["data"]},a=m.write(n,{bookType:"xlsx",type:"array"});new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"})}(t)}},"Export")},h=n(363),f=n(367),y=n(368),b=n(369),g=n(370),E=n(371),v=n(160),C=n.n(v),k=h.a.Step;function x(e){return r.a.createElement(h.a,{direction:"vertical",current:e.page,onChange:e.onChange,className:C.a.stepsParent},r.a.createElement(k,{title:"Labor",icon:r.a.createElement(f.a,null)}),r.a.createElement(k,{title:"Equiptment and Supplies",icon:r.a.createElement(y.a,null)}),r.a.createElement(k,{title:"Consultants",icon:r.a.createElement(b.a,null)}),r.a.createElement(k,{title:"Non-Personnel Expenses",icon:r.a.createElement(g.a,null)}),r.a.createElement(k,{title:"Overhead",icon:r.a.createElement(E.a,null)}))}var S=n(161),O=n(162),N=n(198),j=n(193),I=n(134),w=n.n(I),D=n(59),q=n(163),P=n(109),F=n(138),T=n(164),A=n.n(T),U=n(362),_=n(361),B=n(365),R=n(364),M=n(366),W=n(360),J=U.a.Title,L=U.a.Text,V=r.a.createContext(),z=function(e){e.index;var t=Object(F.a)(e,["index"]),n=_.a.useForm(),a=Object(i.a)(n,1)[0];return r.a.createElement(_.a,{form:a,component:!1},r.a.createElement(V.Provider,{value:a},r.a.createElement("tr",t)))},H=function(e){var t=e.title,n=e.editable,l=e.children,c=e.dataIndex,u=e.record,o=e.handleSave,s=e.inputType,d=Object(F.a)(e,["title","editable","children","dataIndex","record","handleSave","inputType"]),m=Object(a.useState)(!1),p=Object(i.a)(m,2),h=p[0],f=p[1],y=Object(a.useRef)(),b=Object(a.useContext)(V);Object(a.useEffect)((function(){h&&y.current.focus()}),[h]);var g=function(){f(!h),b.setFieldsValue(Object(P.a)({},c,u[c]))},E=function(){var e=Object(q.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.validateFields();case 3:n=e.sent,g(),o(Object(D.a)(Object(D.a)({},u),n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),v=l;if(n&&(!u.header||u.edit&&"name"===c))v=h?r.a.createElement(_.a.Item,{style:{margin:0},name:c,rules:[{required:!0,message:"".concat(t," is required.")}]},"number"===s?r.a.createElement(B.a,{ref:y,onPressEnter:E,onBlur:E}):r.a.createElement(R.a,{ref:y,onPressEnter:E,onBlur:E})):r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:g},"rate"===c?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number.parseFloat(l[1])):l);else if(u&&u.header&&u.children.length>0&&"rate"===c){var C=u.children.map((function(e){return Number.parseFloat(e[c])})).reduce((function(e,t){return e+t}));v=r.a.createElement(L,{strong:!0},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(C/u.children.length))}else if(u&&u.header&&u.children.length>0&&("quantity"===c||"total"===c)){var k=u.children.map((function(e){return Number.parseFloat(e[c])})).reduce((function(e,t){return e+t}));v=r.a.createElement(L,{strong:!0},k)}return r.a.createElement("td",d,v)},Y=function(e){Object(N.a)(n,e);var t=Object(j.a)(n);function n(e){var a;Object(S.a)(this,n),(a=t.call(this,e)).handleDelete=function(e){var t=a.props.pageData.items,n=t.findIndex((function(t){return t.key===e.charAt(0)}));e.length>1?t[n].children=t[n].children.filter((function(t){return t.key!==e})):t=t.filter((function(t){return t.key!==e})),a.props.setPageData(t)},a.handleAdd=function(){var e=a.props.pageData,t=e.items.length+1,n={key:String.fromCharCode(96+t),name:"".concat(e.label," Item ").concat(t),quantity:null,rate:null,header:!0,edit:!0,childCount:0,children:[]};a.props.setPageData([].concat(Object(s.a)(e.items),[n]))},a.handleAddChild=function(e){var t=a.props.pageData.items,n=t.findIndex((function(t){return t.key===e}));if(!(n<0)){var r=t[n].childCount+1;t[n].childCount=r,t[n].children.push({key:e+r,name:"Item ".concat(r),quantity:0,rate:0,header:!1}),a.props.setPageData(t)}},a.handleSave=function(e){var t=Object(s.a)(a.props.pageData.items),n=t.findIndex((function(t){return e.key.charAt(0)===t.key})),r=t[n];if(void 0!==e.header&&e.header)t.splice(n,1,Object(D.a)(Object(D.a)({},r),e));else{var l=t[n].children.findIndex((function(t){return e.key===t.key})),c=t[n].children[l];t[n].children.splice(l,1,Object(D.a)(Object(D.a)({},c),e))}a.props.setPageData(t)},a.addWrapper=r.a.createRef();var l=a.props.pageData.items[0],c=Object.keys(l).filter((function(e){return"key"!==e&&"children"!==e&&"header"!==e&&"childCount"!==e}));return a.columns=c.map((function(e){return{title:(t=e,t.charAt(0).toUpperCase()+t.slice(1)),dataIndex:e,inputType:"name"===e?"text":"number",editable:!0,key:e};var t})),a.columns.push({title:"Total",dataIndex:"total",render:function(e,t){if(t.header){var n=t.children.map((function(e){return isNaN(Number.parseInt(e.quantity))||isNaN(Number.parseFloat(e.rate))?0:Number.parseInt(e.quantity)*Number.parseFloat(e.rate)})).reduce((function(e,t){return e+t}),0);return r.a.createElement(L,{strong:!0},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n))}var a=Number.parseInt(t.quantity)*Number.parseFloat(t.rate);return isNaN(a)&&(a=0),new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a)}},{title:"operation",dataIndex:"operation",render:function(e,t){return a.props.pageData.items.length>=1?r.a.createElement(r.a.Fragment,null,t.header?r.a.createElement(d.a,{type:"link",onClick:function(){return a.handleAddChild(t.key)}},"Add"):r.a.createElement(M.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)}},r.a.createElement(d.a,{type:"link"},"Delete")),void 0!==t.edit&&t.edit&&r.a.createElement(M.a,{title:"Sure to delete?",onConfirm:function(){return a.handleDelete(t.key)}},r.a.createElement(d.a,{type:"link"},"Delete"))):null}}),a}return Object(O.a)(n,[{key:"render",value:function(){var e=this,t=this.props.pageData,n={body:{row:z,cell:H}},a=this.columns.map((function(t){return t.editable?Object(D.a)(Object(D.a)({},t),{},{onCell:function(n){return{record:n,editable:t.editable,dataIndex:t.dataIndex,title:t.title,inputType:t.inputType,handleSave:e.handleSave}}}):t}));return r.a.createElement("div",{className:A.a.content},r.a.createElement(J,null,this.props.pageData.label),r.a.createElement(d.a,{onClick:this.handleAdd,type:"primary",style:{marginTop:24,marginBottom:16},ref:this.addWrapper},"Add a Section"),r.a.createElement(W.a,{components:n,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t.items,columns:a,expandable:{defaultExpandAllRows:!0},pagination:{hideOnSinglePage:!0},summary:function(e){var t=e.map((function(e){return e.children.map((function(e){return Number.parseInt(e.quantity)*Number.parseFloat(e.rate)})).reduce((function(e,t){return e+t}),0)})).reduce((function(e,t){return e+t}),0);return r.a.createElement(W.a.Summary.Row,null,r.a.createElement(W.a.Summary.Cell,null,"Total"),r.a.createElement(W.a.Summary.Cell,null),r.a.createElement(W.a.Summary.Cell,null),r.a.createElement(W.a.Summary.Cell,null,r.a.createElement(L,{style:{fontWeight:"bolder"}},new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t))))}}))}}]),n}(a.Component),Z=n(191),$=n.n(Z),G=n(357),K=n(358),Q=n(359),X=G.a.Content;function ee(e){return r.a.createElement(X,null,r.a.createElement(K.a,{className:$.a.row},r.a.createElement(Q.a,{span:5,pull:5,style:{height:"100vh",position:"fixed",left:0,backgroundColor:"white",top:"64px",zIndex:2,minWidth:"17px"}},r.a.createElement(x,{onChange:e.onChange,page:e.step}),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(p,{csvData:e.data,fileName:"Pricing and Budget"}))),r.a.createElement(Q.a,{span:19,push:5},r.a.createElement(Y,{pageData:e.data[e.step],step:e.step,setPageData:function(t){var n=Object(s.a)(e.data);n[e.step].items=t,e.setData(n)}}))))}var te=G.a.Header,ne=n(354);var ae=function(){var e=Object(a.useState)(0),t=Object(i.a)(e,2),n=t[0],l=t[1],c=function(e){var t=Object(a.useState)(JSON.parse(localStorage.getItem(e))||ne),n=Object(i.a)(t,2),r=n[0],l=n[1];return Object(a.useEffect)((function(){var t=JSON.stringify(r);localStorage.setItem(e,t)}),[r,e]),[r,l]}("VLProjectBudget"),u=Object(i.a)(c,2),s=u[0],d=u[1];return r.a.createElement(G.a,null,r.a.createElement(te,{style:{position:"fixed",zIndex:2,width:"100%",textAlign:"center"}},r.a.createElement("img",{src:o.a,className:"App-logo",alt:"logo"})),r.a.createElement(G.a,null,r.a.createElement(ee,{step:n,data:s,setData:d,onChange:function(e){return l(e)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[202,1,2]]]);
//# sourceMappingURL=main.a2bbdcd6.chunk.js.map